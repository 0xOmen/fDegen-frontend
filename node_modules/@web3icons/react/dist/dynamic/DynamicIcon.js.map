{"version":3,"file":"DynamicIcon.js","sources":["../../src/dynamic/DynamicIcon.ts"],"sourcesContent":["'use client'\nimport {\n  createElement,\n  forwardRef,\n  ReactElement,\n  ReactNode,\n  useEffect,\n  useState,\n} from 'react'\nimport {\n  IExchangeMetadata,\n  INetworkMetadata,\n  ITokenMetadata,\n  IWalletMetadata,\n  TType,\n  TVariant,\n} from '@web3icons/common'\nimport { BaseIcon } from '../BaseIcon.js'\nimport { loadIcon } from '../utils/loadIcon.js'\nimport type { IconComponent } from '../types.js'\n\n/**\n * Interface for DynamicIcon component props.\n *\n * @property {IWalletMetadata | ITokenMetadata | INetworkMetadata | IExchangeMetadata | undefined} metadata - Metadata for the icon.\n * @property {TType} type - Type of the icon (token, network, or wallet).\n * @property {React.ForwardedRef<SVGSVGElement>} ref - Forwarded ref for the icon.\n * @property {(string | number)} [size] - Size of the icon.\n * @property {string} [color] - Color of the icon.\n * @property {string} [className] - Additional CSS classes for the icon.\n * @property {'mono' | 'branded'} [variant] - Variant of the icon.\n * @property {(string | ReactNode)} [fallback] - Fallback content to display if the icon fails to load.\n */\ninterface IDynamicIcon {\n  metadata:\n    | ITokenMetadata\n    | IWalletMetadata\n    | INetworkMetadata\n    | IExchangeMetadata\n    | undefined\n  type: TType\n  ref?: React.ForwardedRef<SVGSVGElement>\n  size?: string | number\n  color?: string\n  className?: string\n  variant?: TVariant\n  fallback?: string | ReactNode\n}\n\n/**\n * DynamicIcon component dynamically loads and renders icons based on the provided metadata and type.\n *\n * @param {IDynamicIcon} props\n * @param {React.ForwardedRef<SVGSVGElement>} ref\n * @returns {ReactElement | null} Element for the DynamicIcon component or null if the icon fails to load.\n */\nconst DynamicIcon = forwardRef<SVGSVGElement, IDynamicIcon>(\n  (\n    { size, color, className, variant, fallback, metadata, type }: IDynamicIcon,\n    ref,\n  ): ReactElement | null => {\n    const [Icon, setIcon] = useState<IconComponent | null>(null)\n\n    useEffect(() => {\n      if (!metadata) {\n        return\n      }\n\n      loadIcon(type, metadata)\n        .then((loadedIcon) => {\n          setIcon(loadedIcon)\n        })\n        .catch(() => {\n          setIcon(null)\n        })\n    }, [type, metadata])\n\n    // Show fallback for errors or missing icons\n    if (!Icon && fallback) {\n      return createElement(BaseIcon, {\n        ref,\n        size,\n        color,\n        className,\n        fallback,\n      })\n    }\n\n    return Icon\n      ? createElement(Icon, {\n          ref,\n          size,\n          color,\n          className,\n          variant,\n        })\n      : null\n  },\n)\n\nexport default DynamicIcon\n"],"names":[],"mappings":";;;;;AAiDA;;;;;;AAMG;AACH;;;;;;AAYM;AACG;;AAED;;;AAGA;AACJ;;AAGA;;;;;;;AAOG;;AAGH;AACE;;;;;;;;AAQJ;;"}