{"version":3,"file":"find-metadata.js","sources":["../../src/utils/find-metadata.ts"],"sourcesContent":["import { toKebabCase } from './naming-conventions.js'\nimport {\n  IExchangeMetadata,\n  INetworkMetadata,\n  ITokenMetadata,\n  IWalletMetadata,\n  networks,\n  tokens,\n  wallets,\n  exchanges,\n} from '@web3icons/common'\n\n/**\n * Finds a metadata object based on the provided search criteria.\n *\n * @param metadata - The array of metadata objects to search.\n * @param searchCriteria - The search criteria to use.\n * @returns The metadata object if found, otherwise undefined.\n */\nconst findMetadata = <T>(\n  metadata: T[],\n  searchCriteria: { [key: string]: any },\n): T | undefined => {\n  return metadata.find((item) => {\n    return Object.keys(searchCriteria).some((key) => {\n      const value = searchCriteria[key]\n      if (value === undefined) return false\n      if (typeof value === 'object') {\n        return Object.entries(value).every(\n          ([k, v]) => (item[key as keyof T] as any)?.[k] === v,\n        )\n      }\n      if (typeof value === 'string') {\n        const itemValue = item[key as keyof T]\n        return (\n          typeof itemValue === 'string' &&\n          itemValue.toLowerCase() === value.toLowerCase()\n        )\n      } else {\n        return item[key as keyof T] === value\n      }\n    })\n  })\n}\n\n/**\n * Finds a wallet metadata object based on the provided wallet name or ID.\n *\n * @param id - The wallet ID to search for.\n * @param name - The wallet name to search for.\n * @returns The wallet metadata object if found, otherwise undefined.\n */\nexport const findWallet = ({\n  id,\n  name,\n}: {\n  id?: string\n  name?: string\n}): IWalletMetadata | undefined => {\n  if (id) {\n    return findMetadata(wallets, { id: toKebabCase(id), name: id })\n  }\n  if (name) {\n    return findMetadata(wallets, { id: toKebabCase(name), name })\n  }\n  return undefined\n}\n\n/**\n * Finds a token metadata object based on the provided symbol or address and network.\n *\n * @param id - The token ID to search for.\n * @param name - The token name to search for.\n * @param symbol - The token symbol to search for.\n * @param address - The token address to search for.\n * @param network - The network to search the address on.\n * @returns The token metadata object if found, otherwise undefined.\n */\nexport const findToken = ({\n  id,\n  name,\n  symbol,\n  address,\n  network,\n}: {\n  id?: string\n  name?: string\n  symbol?: string\n  address?: string\n  network?: string\n}): ITokenMetadata | undefined => {\n  if (id) {\n    return findMetadata(tokens, { id })\n  }\n  if (name) {\n    return findMetadata(tokens, { name })\n  }\n  if (symbol) {\n    return findMetadata(tokens, { symbol })\n  }\n  if (address && network) {\n    return findMetadata(tokens, { addresses: { [network]: address } })\n  }\n  return undefined\n}\n\n/**\n * Finds a network metadata object based on the provided network name or chain ID.\n *\n * @param id - The network ID to search for.\n * @param name - The network name to search for.\n * @param chainId - The chain ID to search for.\n * @param caip2id - The CAIP-2 ID to search for.\n * @returns The network metadata object if found, otherwise undefined.\n */\nexport const findNetwork = ({\n  id,\n  name,\n  chainId,\n  caip2id,\n}: {\n  id?: string\n  name?: string\n  chainId?: number | string\n  caip2id?: string\n}): INetworkMetadata | undefined => {\n  if (name) {\n    return findMetadata(networks, {\n      id: toKebabCase(name),\n      name,\n      shortName: name,\n    })\n  }\n  if (chainId) {\n    return findMetadata(networks, { chainId })\n  }\n  if (caip2id) {\n    return findMetadata(networks, { caip2id })\n  }\n  if (id) {\n    return findMetadata(networks, { id: toKebabCase(id), name: id })\n  }\n  return undefined\n}\n\n/**\n * Finds an exchange metadata object based on the provided exchange name or ID.\n *\n * @param id - The exchange ID to search for.\n * @param name - The exchange name to search for.\n * @returns The exchange metadata object if found, otherwise undefined.\n */\nexport const findExchange = ({\n  name,\n  id,\n}: {\n  name?: string\n  id?: string\n}): IExchangeMetadata | undefined => {\n  if (id) {\n    return findMetadata(exchanges, { id: toKebabCase(id), name: id })\n  }\n  if (name) {\n    return findMetadata(exchanges, { id: toKebabCase(name), name })\n  }\n}\n"],"names":[],"mappings":"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"}