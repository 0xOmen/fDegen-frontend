{"version":3,"file":"createWeb3Icon.js","sources":["../src/createWeb3Icon.ts"],"sourcesContent":["import { createElement, forwardRef } from 'react'\nimport { BaseIcon } from './BaseIcon.js'\nimport type { IconComponentProps } from './types.js'\nimport type { IconNode, TIconVariants } from '@web3icons/common'\n\n/**\n * factory function to create icon components from data structures.\n *\n * @param name - component display name\n * @param variants - icon data for each variant (branded/mono/background)\n * @returns react component with forwardRef support\n */\nexport const createWeb3Icon = (name: string, variants: TIconVariants) => {\n  const availableVariants = Object.keys(variants) as Array<keyof TIconVariants>\n  const defaultVariant = availableVariants[0]\n\n  if (!defaultVariant) {\n    throw new Error(`Icon \"${name}\" must have at least one variant`)\n  }\n\n  const Component = forwardRef<SVGSVGElement, IconComponentProps>(\n    ({ variant = defaultVariant, fallback, ...props }, ref) => {\n      const iconData = variants[variant as keyof TIconVariants]\n\n      if (!iconData) {\n        console.warn(\n          `Icon \"${name}\" does not have variant \"${variant}\". ` +\n            `Available variants: ${availableVariants.join(', ')}`,\n        )\n        return null\n      }\n\n      return createElement(\n        BaseIcon,\n        { fallback, ...props, ref },\n        renderIconNode(iconData),\n      )\n    },\n  )\n\n  Component.displayName = name\n  return Component\n}\n\n/**\n * recursively render IconNode data structure to react elements.\n *\n * @param nodes array of IconNode elements to render\n * @returns array of react elements\n */\nfunction renderIconNode(nodes: IconNode): React.ReactNode[] {\n  return nodes.map((node, index) => {\n    const [element, attrs, children] = node\n    const { style, ...restAttrs } = attrs || {}\n\n    const elementProps = {\n      key: index,\n      ...restAttrs,\n      ...(style && { style }),\n    }\n\n    // check if this is a 3-element tuple with children (element, attributes, children)\n    const childElements = children ? renderIconNode(children) : undefined\n\n    return createElement(element, elementProps, childElements)\n  })\n}\n"],"names":[],"mappings":";;;AAKA;;;;;;AAMG;MACU,cAAc,GAAG,CAAC,IAAY,EAAE,QAAuB,KAAI;IACtE,MAAM,iBAAiB,GAAG,MAAM,CAAC,IAAI,CAAC,QAAQ,CAA+B;AAC7E,IAAA,MAAM,cAAc,GAAG,iBAAiB,CAAC,CAAC,CAAC;IAE3C,IAAI,CAAC,cAAc,EAAE;AACnB,QAAA,MAAM,IAAI,KAAK,CAAC,SAAS,IAAI,CAAA,gCAAA,CAAkC,CAAC;IAClE;AAEA,IAAA,MAAM,SAAS,GAAG,UAAU,CAC1B,CAAC,EAAE,OAAO,GAAG,cAAc,EAAE,QAAQ,EAAE,GAAG,KAAK,EAAE,EAAE,GAAG,KAAI;AACxD,QAAA,MAAM,QAAQ,GAAG,QAAQ,CAAC,OAA8B,CAAC;QAEzD,IAAI,CAAC,QAAQ,EAAE;AACb,YAAA,OAAO,CAAC,IAAI,CACV,SAAS,IAAI,CAAA,yBAAA,EAA4B,OAAO,CAAA,GAAA,CAAK;gBACnD,CAAA,oBAAA,EAAuB,iBAAiB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAA,CAAE,CACxD;AACD,YAAA,OAAO,IAAI;QACb;AAEA,QAAA,OAAO,aAAa,CAClB,QAAQ,EACR,EAAE,QAAQ,EAAE,GAAG,KAAK,EAAE,GAAG,EAAE,EAC3B,cAAc,CAAC,QAAQ,CAAC,CACzB;AACH,IAAA,CAAC,CACF;AAED,IAAA,SAAS,CAAC,WAAW,GAAG,IAAI;AAC5B,IAAA,OAAO,SAAS;AAClB;AAEA;;;;;AAKG;AACH,SAAS,cAAc,CAAC,KAAe,EAAA;IACrC,OAAO,KAAK,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,KAAK,KAAI;QAC/B,MAAM,CAAC,OAAO,EAAE,KAAK,EAAE,QAAQ,CAAC,GAAG,IAAI;QACvC,MAAM,EAAE,KAAK,EAAE,GAAG,SAAS,EAAE,GAAG,KAAK,IAAI,EAAE;AAE3C,QAAA,MAAM,YAAY,GAAG;AACnB,YAAA,GAAG,EAAE,KAAK;AACV,YAAA,GAAG,SAAS;AACZ,YAAA,IAAI,KAAK,IAAI,EAAE,KAAK,EAAE,CAAC;SACxB;;AAGD,QAAA,MAAM,aAAa,GAAG,QAAQ,GAAG,cAAc,CAAC,QAAQ,CAAC,GAAG,SAAS;QAErE,OAAO,aAAa,CAAC,OAAO,EAAE,YAAY,EAAE,aAAa,CAAC;AAC5D,IAAA,CAAC,CAAC;AACJ;;;;"}